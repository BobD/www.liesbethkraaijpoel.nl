.collection{
	padding: $content-side-padding;

	@include justified-layout();

	// http://alistapart.com/article/quantity-queries-for-css
	li:nth-last-child(0n+6) ~ li{
		margin-bottom: 0;
	}

	li:nth-last-child(0n+3) ~ li{
		&:before{
			display: none;
		}
	}

	> li{
		width: 21%;
		margin-bottom: 5%;
		border: thin solid grey;
		position: relative;

		&:last-child{
			margin-bottom: 0;
		}


		&:empty{
			border: none;
		}

		// http://www.mademyday.de/css-height-equals-width-with-pure-css.html
		&:before{
			content: "";
			display: block;
			padding-top: 100%;
		}

		a{
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background-color: $page-background;
			background-image: url("../images/assets/background-pattern.png");
		}

		.picture{
			width: 100%;
			height: 100%;
		}

		img{
			width: 100%;
		}
	}
}
